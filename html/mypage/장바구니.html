<!DOCTYPE html>
<html lang="ko">

<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <!-- CSS -->
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.css" /> 
    <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />
    <link rel="stylesheet" href="../../assets/css/reset.css" />
    <link rel="stylesheet" href="../../assets/css/style.css" />
    
    <!-- JS -->
    <script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script> 
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/swiper@7/swiper-bundle.min.js"></script>
    <script src="../../assets/js/calendar.js"></script>

</head>

<body>

    <div class="wrap wrap-cart">
        <!-- 헤더 -->
        <header class="sub-header">
            <button type="button" class="prev">
            </button>
            <h2>장바구니</h2>
            <button type="button" class="shopping-basket">
                <span>4</span>
            </button>
        </header>
        <!-- //헤더 -->

        <!-- 메인컨텐츠 -->
        <section class="main cart">

            <div class="cart-all">
                <div>
                    <input type="checkbox" class="cbx_chkAll" id="c-all">
                    <label for="c-all"><span></span>전체선택 (<em class="sel">3</em>/<em class="all">4</em>)</label>
                </div>
                <button type="button">선택삭제</button>
            </div>
            <!-- 시설별 세트 -->
            <div class="cart-set">
                <div class="set-title">
                    <input type="checkbox" id="c1" class="checkAll">
                    <label for="c1"><span></span>익스트림루지</label>
                </div>
                <div style="padding:0 20px;">
                    <!-- 티켓정보 -->
                    <div class="set-ticket-info">
                        <div class="flex-sb">
                            <div>
                                <input type="checkbox" class="chkbox" id="c1-01">
                                <label for="c1-01"><span></span>[주중] 익스트림루지 2회</label>
                            </div>
                            <button type="button" class="del"></button>
                        </div>
                        <div class="flex-sb">
                            <div class="num-sel">
                                <input type="button" class="num-btn" data-type="minus"></input>
                                <span class="num-result">2</span>
                                <input type="button" class="num-btn" data-type="plus"></input>
                            </div>
                            <div>
                                <span class="original-price">정상가 48,000원</span>
                                <span class="price">할인가42,000원</span>
                            </div>
                        </div>
                    </div>
                    <!-- //티켓정보 -->
                    <!-- 티켓정보 -->
                    <div class="set-ticket-info">
                        <div class="flex-sb">
                            <div>
                                <input type="checkbox" class="chkbox" id="c1-02">
                                <label for="c1-02"><span></span>[주중] 익스트림루지 동반권</label>
                            </div>
                            <button type="button" class="del"></button>
                        </div>
                        <div class="flex-sb">
                            <div class="num-sel">
                                <input type="button" class="num-btn" data-type="minus"></input>
                                <span class="num-result">2</span>
                                <input type="button" class="num-btn" data-type="plus"></input>
                            </div>
                            <div>
                                <!-- <span class="original-price">정상가 48,000원</span> -->
                                <span class="price">42,000원</span>
                            </div>
                        </div>
                    </div>
                    <!-- //티켓정보 -->
                </div>
                <div class="set-ticket-price">
                    <div class="flex-sb">
                        <span>티켓수량</span>
                        <strong>총 <em>4</em>매</strong>
                    </div>
                    <div class="flex-sb">
                        <span>티켓금액</span>
                        <strong>54,000원</strong>
                    </div>
                    <div class="flex-sb">
                        <span>온라인 할인</span>
                        <strong>-6,000원</strong>
                    </div>
                    <div class="flex-sb all">
                        <span>결제금액</span>
                        <strong>48,000원</strong>
                    </div>
                </div>
            </div>
            <!-- //시설별 세트 -->
            <!-- 시설별 세트 -->
            <div class="cart-set">
                <div class="set-title">
                    <input type="checkbox" id="c2" class="checkAll">
                    <label for="c2"><span></span>익스트림루지</label>
                </div>
                <div style="padding:0 20px;">
                    <!-- 티켓정보 -->
                    <div class="set-ticket-info">
                        <div class="flex-sb">
                            <div>
                                <input type="checkbox" class="chkbox" id="c2-01">
                                <label for="c2-01"><span></span>[주중] 익스트림루지 2회</label>
                            </div>
                            <button type="button" class="del"></button>
                        </div>
                        <div class="flex-sb">
                            <div class="num-sel">
                                <input type="button" class="num-btn" data-type="minus"></input>
                                <span class="num-result">2</span>
                                <input type="button" class="num-btn" data-type="plus"></input>
                            </div>
                            <div>
                                <span class="original-price">정상가 48,000원</span>
                                <span class="price">할인가42,000원</span>
                            </div>
                        </div>
                    </div>
                    <!-- //티켓정보 -->
                    <!-- 티켓정보 -->
                    <div class="set-ticket-info">
                        <div class="flex-sb">
                            <div>
                                <input type="checkbox" class="chkbox" id="c2-02">
                                <label for="c2-02"><span></span>[주중] 익스트림루지 동반권</label>
                            </div>
                            <button type="button" class="del"></button>
                        </div>
                        <div class="flex-sb">
                            <div class="num-sel">
                                <input type="button" class="num-btn" data-type="minus"></input>
                                <span class="num-result">2</span>
                                <input type="button" class="num-btn" data-type="plus"></input>
                            </div>
                            <div>
                                <!-- <span class="original-price">정상가 48,000원</span> -->
                                <span class="price">42,000원</span>
                            </div>
                        </div>
                    </div>
                    <!-- //티켓정보 -->
                </div>
                <div class="set-ticket-price">
                    <div class="flex-sb">
                        <span>티켓수량</span>
                        <strong>총 <em>4</em>매</strong>
                    </div>
                    <div class="flex-sb">
                        <span>티켓금액</span>
                        <strong>54,000원</strong>
                    </div>
                    <div class="flex-sb">
                        <span>온라인 할인</span>
                        <strong>-6,000원</strong>
                    </div>
                    <div class="flex-sb all">
                        <span>결제금액</span>
                        <strong>48,000원</strong>
                    </div>
                </div>
            </div>
            <!-- //시설별 세트 -->
            
            <!-- 최종 금액 -->
            <div class="ticket-price">
                <div class="flex-sb">
                    <span>티켓수량</span>
                    <strong>총 <em>4</em>매</strong>
                </div>
                <div class="flex-sb">
                    <span>티켓금액</span>
                    <strong>54,000원</strong>
                </div>
                <div class="flex-sb">
                    <span>온라인 할인</span>
                    <strong>-6,000원</strong>
                </div>
                <div class="flex-sb all">
                    <span>총 결제금액</span>
                    <strong>48,000원</strong>
                </div>
            </div>
            <aside class="bottom-btn">	
                <button class="btn-1 mint">결제하기</button>
                <!-- 활성화 class="mint" / 비활성화 class="grey" -->
            </aside>
            <!-- //최종 금액 -->

            <!-- 최종 금액 고정되는 부분 -->
            <div class="cart-fixed-area">
                <div class="fixed-ticket-price drop-content">
                    <div style="width: calc( 100% - 32px )">
                        <div class="check">
                            <div class="flex-sb" style="padding-top:20px;">
                                <span>티켓수량</span>
                                <strong>총 <em>4</em>매</strong>
                            </div>
                            <div class="flex-sb">
                                <span>티켓금액</span>
                                <strong>54,000원</strong>
                            </div>
                            <div class="flex-sb">
                                <span>온라인 할인</span>
                                <strong>-6,000원</strong>
                            </div>
                        </div>
                        <div class="flex-sb all">
                            <span>총 결제금액</span>
                            <strong>48,000원</strong>
                        </div>
                    </div>
                    <button type="button" class="drop-btn"></button>
                </div>
                <aside class="bottom-btn">	
                    <button class="btn-1 mint">결제하기</button>
                    <!-- 활성화 class="mint" / 비활성화 class="grey" -->
                </aside>
            </div>
            <!-- //최종 금액 고정되는 부분 -->

        </section>
        <!-- //메인컨텐츠 -->

        <!-- footer -->
        <footer class="main-footer">
            <ul class="sns-area">
            <li>
                <a href="#" class="instagram" style="background-image: url(../../assets/images/main_insta_icon.png);">
                <span class="blind">벨포레 인스타그램</span>
                </a>
            </li>
            <li>
                <a href="#" class="blog" style="background-image: url(../../assets/images/main_blog_icon.png)">
                <span class="blind">벨포레 블로그</span>
                </a>
            </li>
            </ul>

            <div style="padding: 30px 20px 25px">
            <!-- 2022/08/19 수정2 -->
            <strong class="title">벨포레 고객센터 <span>1566 - 0162</span></strong>
            <!-- //2022/08/19 수정2 -->

            <ul class="terms-area">
                <li>
                <a href="#">이용약관</a>
                </li>
                <li>
                <a href="#"><strong>개인정보처리방침</strong></a>
                </li>
                <li>
                <a href="#">영상정보처리기기 운영관리방침</a>
                </li>
                <li>
                <a href="#">이메일 무단수집거부</a>
                </li>
            </ul>

            <address class="footer-address">
                <p>
                상호명 : (주)블랙스톤에듀팜리조트<br />
                대표이사: 원성역<br />
                주소 : 충청북도 증평군 도안면 벨포레길 346<br />
                사업자번호 : 535-86-00475<br />
                통신판매업 신고번호 : 제 2019충북증평00041 호
                </p>
            </address>

            <small>
                <!-- 2022/08/18 수정 -->
                Copyright 2022. BLACK STONE BELLE FORET inc.<br />
                all rights reserved.
                <!-- //2022/08/18 수정 -->
            </small>
            </div>
        </footer>
        <!-- footer -->

    </div>

    <script src="../../assets/js/main.js"></script>
    <script>

        // //장바구니 fixed부분
        var wHeight = $(window).innerHeight();
        var bHeight = $('body').innerHeight();
        var pOffset = $('.ticket-price').offset().top;
        var currentScroll = 0;

        function displayCart() {

            if ( wHeight > pOffset ) {
                $('.cart-fixed-area').css('display', 'none');
            } else {
                $('.cart-fixed-area').css('display', 'block');
            }

        }
        displayCart();

        $(window).scroll(function(){

            var currentScroll = $(document).scrollTop();

            if ( currentScroll > pOffset - 500 ){
                $('.cart-fixed-area').css('display', 'none');
            }else{
                $('.cart-fixed-area').css('display', 'block');
            }

        })

        //다중 체크박스
        var checkAll = document.querySelectorAll('.checkAll');
		var chkbox = document.querySelectorAll('.chkbox');

        $(chkbox).click(function() {

            var currentAll = $(this).parents(".cart-set").find(".checkAll");
            var currentChk = $(this).parents(".cart-set").find(".chkbox");
            var checkType = $(this).parents(".cart-set").find(".chkbox:checked");
            var total = $(currentChk).length;
            var checked = $(checkType).length;

            if( total != checked ) $(currentAll).prop("checked", false);
            else $(currentAll).prop("checked", true); 
            
        });
	
		for(var x=0; x<checkAll.length; x++){ 

			checkAll[x].onclick = function(){ 
				$(".cbx_chkAll").prop("checked", false); 
				var thisParent = this.parentElement.parentElement; 
				var childChkbox = thisParent.querySelectorAll('.chkbox'); 
				if(this.checked == false){ 
					for(var i=0; i<childChkbox.length; i++){ 
						childChkbox[i].checked = false; 
					}
				}else{
					for(var i=0; i<childChkbox.length; i++){ 
						childChkbox[i].checked = true;
					}
				}
			};
		};
	
		for(var x=0; x<chkbox.length; x++){
			chkbox[x].onclick = function(){
				$(".cbx_chkAll").prop("checked", false);
				var thisParent = this.parentElement.parentElement; 
				$(".cbx_chkAll5").prop("checked", false);
				if(this.checked == false){
					thisChkAll.checked = false;
					$(".cbx_chkAll").prop("checked", false);
				}
			};
		};

        $(".cbx_chkAll").click(function() {
            if($(".cbx_chkAll").is(":checked")) $("input[type=checkbox]").prop("checked", true);
            else $("input[type=checkbox]").prop("checked", false);
        });

    </script>
</body>
</html>